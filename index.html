<html>
    <head>
        <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
        <style>
            .card {
                width: 300px;
                height: 200px;
                background-color: beige;
                margin: 5px;
            }
            .card-title {
                text-align: center;
                font-size: medium;
                margin: 1px;
                word-wrap: break-word;
            }
            .card-body {
                font-size: small;
                margin: 1px;
                word-wrap: break-word;
            }
            .card-footer {
                margin: 1px;
                word-wrap: break-word;
            }
        </style>
    </head>
    <body>
        <div id="media-info">
            <video id="capture-video" autoplay="1"></video>
            <div class="card" v-for="device in devices">
                <p class="card-title">Kind:{{device.kind}}</p>
                <p class="card-body">Label:{{device.label}}</p>
                <p class="card-footer">GroupId:{{device.groupId}}</p>
            </div>
        </div>
        <script>
            var app = new Vue({
                el: '#media-info',
                data: {
                    devices: null,
                    constraints: {
                        video: true,
                        audio: false,
                    },
                    captureVideo: document.getElementById('capture-video')
                },
                methods: {
                    getMediaDevices() {
                        navigator.mediaDevices.enumerateDevices()
                        .then((devices) => {
                            console.log(devices)
                            this.devices = devices
                        })
                        .catch((error) => {
                            console.log(error)
                        })
                    },
                    async useCaptureDevices() {
                        await navigator.mediaDevices.getUserMedia(this.constraints)
                        .then((mediaStream) => {
                            console.log(mediaStream)
                            this.captureVideo.srcObject = mediaStream
                        })
                        .catch((error) => {
                            console.log(error)
                        })
                        this.getMediaDevices()
                    }
                },
                mounted: function() {
                    this.useCaptureDevices()
                }
            })
        </script>
    </body>
</html>